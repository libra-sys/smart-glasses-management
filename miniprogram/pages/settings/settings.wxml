<!-- settings.wxml -->
<!-- è®¾ç½®é¡µé¢ - ç®¡ç†æ™ºèƒ½çœ¼é•œçš„å„ç§è®¾ç½®é€‰é¡¹ -->
<!-- é¡µé¢ä¸»å®¹å™¨ -->
<view class="container bg-background font-sf">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="top-header bg-surface px-6 py-4 border-b border-border-light">
    <view class="header-content flex items-center justify-between">
      <!-- è¿”å›æŒ‰é’® -->
      <button class="back-btn w-10 h-10 bg-background rounded-full flex items-center justify-center" bindtap="goBack">â†</button>
      <!-- é¡µé¢æ ‡é¢˜ -->
      <text class="page-title text-xl font-bold text-text-primary">è®¾ç½®</text>
      <!-- å ä½å…ƒç´ ï¼Œç”¨äºå¹³è¡¡å¸ƒå±€ -->
      <view class="placeholder w-10"></view>
    </view>
  </view>

  <!-- ä¸»å†…å®¹åŒºåŸŸ -->
  <view class="main-content">
    <!-- ç”¨æˆ·ä¿¡æ¯ -->
    <view class="user-card">
      <view class="user-avatar-wrapper">
        <text class="user-avatar-text">{{userInfo.username ? userInfo.username.substring(0,1) : 'æ¸¸'}}</text>
      </view>
      <view class="user-info">
        <text class="user-name">{{userInfo.username || 'æ¸¸å®¢'}}</text>
        <text class="user-phone">{{userInfo.phone || 'æœªç»‘å®šæ‰‹æœº'}}</text>
      </view>
    </view>

    <!-- è®¾ç½®é¡¹ -->
    <view class="settings-section">
      <view class="settings-item" bindtap="toggleAiMode">
        <view class="setting-left">
          <text class="setting-icon">ğŸ§ </text>
          <view class="setting-info">
            <text class="setting-name">AIå¢å¼ºæ¨¡å¼</text>
            <text class="setting-desc">å¼€å¯åå¯ä½¿ç”¨æ™ºèƒ½çœ¼é•œAIåŠŸèƒ½</text>
          </view>
        </view>
        <text class="setting-status">{{aiModeEnabled ? 'å·²å¼€å¯' : 'å·²å…³é—­'}}</text>
      </view>

      <view class="settings-item" bindtap="editProfile">
        <view class="setting-left">
          <text class="setting-icon">ğŸ‘¤</text>
          <view class="setting-info">
            <text class="setting-name">ä¸ªäººä¿¡æ¯</text>
            <text class="setting-desc">ä¿®æ”¹å§“åã€å¤´åƒç­‰</text>
          </view>
        </view>
        <text class="setting-arrow">â€º</text>
      </view>

      <view class="settings-item" bindtap="aboutUs">
        <view class="setting-left">
          <text class="setting-icon">â„¹ï¸</text>
          <view class="setting-info">
            <text class="setting-name">å…³äºæˆ‘ä»¬</text>
            <text class="setting-desc">ç‰ˆæœ¬å·ï¼š1.0.0</text>
          </view>
        </view>
        <text class="setting-arrow">â€º</text>
      </view>
    </view>

    <!-- é€€å‡ºç™»å½• -->
    <button wx:if="{{isLoggedIn}}" class="logout-btn" bindtap="handleLogout">é€€å‡ºç™»å½•</button>
  </view>
</view>