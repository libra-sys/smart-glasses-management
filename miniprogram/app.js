// app.js - 小程序应用入口文件
// 初始化小程序应用并配置云开发环境
App({
  /**
   * 生命周期函数 - 监听应用初始化
   * 当小程序初始化完成时触发，全局只触发一次
   */
  onLaunch: function () {
    // 全局数据对象，用于存储应用的全局配置和状态
    this.globalData = {
      /**
       * 云开发环境 ID
       * - 决定小程序发起的云开发调用默认请求到哪个云环境的资源
       * - 可在云控制台获取环境 ID
       * - 如不填写则使用默认环境（第一个创建的环境）
       */
      env: "cloud1-6gyt300c51f0e484"
    };

    // 检查是否支持云开发
    if (!wx.cloud) {
      console.error("请使用 2.2.3 或以上的基础库以使用云能力");
    } else {
      // 初始化云开发环境
      wx.cloud.init({
        env: this.globalData.env,  // 云开发环境 ID
        traceUser: true,            // 开启用户跟踪，记录用户在云开发控制台的操作
      });
    }
  },
});
