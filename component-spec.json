{
  "title": "æ™ºèƒ½çœ¼é•œç»„ä»¶å¼€å‘è§„èŒƒ",
  "version": "1.0.0",
  "description": "å¼€å‘èƒ½åœ¨OpenAIæ™ºèƒ½çœ¼é•œä¸Šè¿è¡Œçš„ç»„ä»¶",
  
  "componentStructure": {
    "required": {
      "id": {
        "type": "string",
        "description": "ç»„ä»¶å”¯ä¸€æ ‡è¯†ï¼Œå»ºè®®æ ¼å¼ï¼šauthor-name-001",
        "example": "zhangsan-navigation-001"
      },
      "name": {
        "type": "string",
        "description": "ç»„ä»¶åç§°",
        "maxLength": 20,
        "example": "ARå¯¼èˆªåŠ©æ‰‹"
      },
      "description": {
        "type": "string",
        "description": "ç»„ä»¶æè¿°",
        "maxLength": 100,
        "example": "å®æ—¶ARå¯¼èˆªï¼Œæ”¯æŒæ­¥è¡Œå’Œé©¾è½¦æ¨¡å¼"
      },
      "version": {
        "type": "string",
        "description": "ç‰ˆæœ¬å·ï¼Œéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬",
        "pattern": "^\\d+\\.\\d+\\.\\d+$",
        "example": "1.0.0"
      },
      "author": {
        "type": "string",
        "description": "ä½œè€…åç§°",
        "example": "å¼ ä¸‰"
      },
      "config": {
        "type": "object",
        "description": "ç»„ä»¶é…ç½®ï¼Œä¼šé€šè¿‡è“ç‰™å‘é€åˆ°ESP32",
        "example": {
          "updateInterval": 1000,
          "displayMode": "ar",
          "voiceEnabled": true,
          "brightness": 80
        }
      }
    },
    "optional": {
      "icon": {
        "type": "string",
        "description": "ç»„ä»¶å›¾æ ‡ï¼ˆemojiï¼‰",
        "example": "ğŸ—ºï¸"
      },
      "color": {
        "type": "string",
        "description": "ä¸»é¢˜è‰²ï¼ˆHEXæ ¼å¼ï¼‰",
        "pattern": "^#[0-9A-Fa-f]{6}$",
        "example": "#34C759"
      },
      "category": {
        "type": "string",
        "description": "ç»„ä»¶åˆ†ç±»",
        "enum": ["å¯¼èˆª", "å¥åº·", "ç¿»è¯‘", "æ‹ç…§", "å·¥å…·", "å¨±ä¹"],
        "example": "å¯¼èˆª"
      },
      "tags": {
        "type": "array",
        "description": "æ ‡ç­¾",
        "example": ["AR", "å¯¼èˆª", "å®æ—¶"]
      },
      "espCode": {
        "type": "string",
        "description": "ESP32ä»£ç ï¼ˆC++ï¼‰",
        "example": "void setup() { Serial.begin(115200); }"
      }
    }
  },

  "componentTypes": [
    {
      "type": "display",
      "name": "æ˜¾ç¤ºç±»ç»„ä»¶",
      "description": "åœ¨çœ¼é•œå±å¹•ä¸Šæ˜¾ç¤ºä¿¡æ¯",
      "examples": ["å¤©æ°”é¢„æŠ¥", "é€šçŸ¥æé†’", "æ—¶é—´æ˜¾ç¤º"],
      "requiredConfig": ["displayMode", "updateInterval"]
    },
    {
      "type": "sensor",
      "name": "ä¼ æ„Ÿå™¨ç±»ç»„ä»¶",
      "description": "è¯»å–ç¡¬ä»¶ä¼ æ„Ÿå™¨æ•°æ®",
      "examples": ["å¿ƒç‡ç›‘æµ‹", "æ­¥æ•°ç»Ÿè®¡", "ç¯å¢ƒå…‰æ£€æµ‹"],
      "requiredConfig": ["sensorType", "sampleRate"]
    },
    {
      "type": "interaction",
      "name": "äº¤äº’ç±»ç»„ä»¶",
      "description": "ä¸ç”¨æˆ·äº¤äº’",
      "examples": ["è¯­éŸ³åŠ©æ‰‹", "æ‰‹åŠ¿æ§åˆ¶", "æŒ‰é”®äº¤äº’"],
      "requiredConfig": ["interactionMode"]
    },
    {
      "type": "network",
      "name": "ç½‘ç»œç±»ç»„ä»¶",
      "description": "éœ€è¦ç½‘ç»œè¿æ¥",
      "examples": ["AIé—®ç­”", "å®æ—¶ç¿»è¯‘", "åœ¨çº¿å¯¼èˆª"],
      "requiredConfig": ["apiEndpoint", "timeout"]
    }
  ],

  "bluetoothProtocol": {
    "description": "å°ç¨‹åºä¸ESP32çœ¼é•œçš„è“ç‰™é€šä¿¡åè®®",
    "format": "JSON",
    "commands": {
      "COMPONENT_INSTALL": {
        "description": "å®‰è£…ç»„ä»¶",
        "data": {
          "type": "COMPONENT_INSTALL",
          "componentId": "ç»„ä»¶ID",
          "componentName": "ç»„ä»¶åç§°",
          "config": {},
          "enabled": true,
          "timestamp": 1234567890
        }
      },
      "COMPONENT_UNINSTALL": {
        "description": "å¸è½½ç»„ä»¶",
        "data": {
          "type": "COMPONENT_UNINSTALL",
          "componentId": "ç»„ä»¶ID",
          "timestamp": 1234567890
        }
      },
      "COMPONENT_UPDATE": {
        "description": "æ›´æ–°ç»„ä»¶é…ç½®",
        "data": {
          "type": "COMPONENT_UPDATE",
          "componentId": "ç»„ä»¶ID",
          "config": {},
          "timestamp": 1234567890
        }
      }
    }
  },

  "esp32CodeTemplate": {
    "description": "ESP32ç»„ä»¶ä»£ç æ¨¡æ¿ï¼ˆC++ï¼‰",
    "template": "#include <Arduino.h>\n#include <ArduinoJson.h>\n\n// ç»„ä»¶å…¨å±€å˜é‡\nJsonDocument componentConfig;\nbool componentEnabled = false;\n\n// ç»„ä»¶åˆå§‹åŒ–\nvoid componentSetup() {\n  Serial.println(\"ç»„ä»¶åˆå§‹åŒ–\");\n  // TODO: æ·»åŠ åˆå§‹åŒ–ä»£ç \n}\n\n// ç»„ä»¶ä¸»å¾ªç¯\nvoid componentLoop() {\n  if (!componentEnabled) return;\n  \n  // TODO: æ·»åŠ ä¸»å¾ªç¯ä»£ç \n}\n\n// å¤„ç†è“ç‰™æŒ‡ä»¤\nvoid onBluetoothCommand(JsonDocument& cmd) {\n  String type = cmd[\"type\"];\n  \n  if (type == \"COMPONENT_INSTALL\") {\n    componentConfig = cmd[\"config\"];\n    componentEnabled = cmd[\"enabled\"];\n    componentSetup();\n  }\n  else if (type == \"COMPONENT_UNINSTALL\") {\n    componentEnabled = false;\n  }\n  else if (type == \"COMPONENT_UPDATE\") {\n    componentConfig = cmd[\"config\"];\n  }\n}\n\n// ä¸»ç¨‹åºé›†æˆ\nvoid setup() {\n  Serial.begin(115200);\n  // åˆå§‹åŒ–è“ç‰™\n}\n\nvoid loop() {\n  componentLoop();\n  delay(10);\n}"
  },

  "exampleComponents": [
    {
      "name": "ç®€å•æ—¶é—´æ˜¾ç¤º",
      "id": "example-clock-001",
      "description": "åœ¨çœ¼é•œä¸Šæ˜¾ç¤ºå½“å‰æ—¶é—´",
      "config": {
        "format": "24h",
        "updateInterval": 1000,
        "fontSize": 16
      },
      "espCode": "void componentLoop() {\n  if (millis() % 1000 == 0) {\n    char timeStr[9];\n    sprintf(timeStr, \"%02d:%02d:%02d\", hour(), minute(), second());\n    displayText(timeStr);\n  }\n}"
    },
    {
      "name": "å¿ƒç‡ç›‘æµ‹",
      "id": "example-heartrate-001",
      "description": "è¯»å–å¿ƒç‡ä¼ æ„Ÿå™¨æ•°æ®",
      "config": {
        "sensorPin": 34,
        "sampleRate": 100,
        "threshold": 60
      },
      "espCode": "void componentLoop() {\n  int sensorValue = analogRead(config[\"sensorPin\"]);\n  int heartRate = calculateHeartRate(sensorValue);\n  if (heartRate > config[\"threshold\"]) {\n    displayValue(heartRate);\n  }\n}"
    }
  ],

  "uploadApi": {
    "endpoint": "POST /api/components",
    "headers": {
      "Content-Type": "application/json"
    },
    "body": {
      "name": "ç»„ä»¶åç§°",
      "description": "ç»„ä»¶æè¿°",
      "icon": "ğŸ”§",
      "color": "#007AFF",
      "category": "å·¥å…·",
      "tags": ["å®ç”¨"],
      "config": {},
      "espCode": "// ESP32ä»£ç ",
      "version": "1.0.0"
    },
    "response": {
      "success": true,
      "data": {
        "id": "auto-generated-id",
        "message": "ç»„ä»¶å‘å¸ƒæˆåŠŸ"
      }
    }
  },

  "bestPractices": [
    "ç»„ä»¶IDä½¿ç”¨å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦",
    "configä¸­çš„é…ç½®é¡¹ä½¿ç”¨é©¼å³°å‘½å",
    "ESP32ä»£ç è¦å¤„ç†é”™è¯¯æƒ…å†µ",
    "ç»„ä»¶è¦æ”¯æŒå¯ç”¨/ç¦ç”¨çŠ¶æ€",
    "å®šæœŸé‡Šæ”¾å†…å­˜ï¼Œé¿å…å†…å­˜æ³„æ¼",
    "ä½¿ç”¨Serial.printlnè¾“å‡ºè°ƒè¯•ä¿¡æ¯",
    "æ•æ„Ÿæ“ä½œè¦æ·»åŠ è¶…æ—¶æœºåˆ¶",
    "ç½‘ç»œè¯·æ±‚è¦æœ‰é‡è¯•æœºåˆ¶"
  ],

  "limitations": [
    "ESP32å†…å­˜æœ‰é™ï¼Œå•ä¸ªç»„ä»¶ä»£ç ä¸è¶…è¿‡50KB",
    "é¿å…ä½¿ç”¨å¤§é‡å…¨å±€å˜é‡",
    "è“ç‰™ä¼ è¾“æ•°æ®åŒ…ä¸è¶…è¿‡512å­—èŠ‚",
    "ç»„ä»¶ä¸»å¾ªç¯ä¸è¦ä½¿ç”¨é˜»å¡å¼delay",
    "åŒæ—¶è¿è¡Œçš„ç»„ä»¶ä¸è¶…è¿‡10ä¸ª"
  ]
}
